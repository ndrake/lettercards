<html manifest="lettercards.manifest">
    <head>
        <meta charset="UTF-8"/>
        <title>Letter Cards</title>
        
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        
        <link rel="stylesheet" type="text/css" href="lettercards.css" />
        

        <script src="jqtouch/jquery.1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="jquery.swipe-0.2.js" type="text/javascript" charset="utf-8"></script>
        
        <script type="text/javascript">

            
                    
            // $.jQTouch({
            //     icon: 'img/icon.png',
            //     startupScreen: 'img/startup.png',
            //     initializeTouch: 'body, div.touch, a ',
            //     statusBar: 'black',
            //     touchSelector: '#swipeme',
            //     initializeTouch: 'body, main'
            //     
            // });
            
            $(document).ready(function() {
				$('.swipe').swipe({
				    y: 20,
				    swipeLeft: next,
				    swipeRight: prev
				});
			});

            
            var currentLetter = '';
            var previousLetters = [];
            
            var UPPER = 0;
            var LOWER = 1;
            var BOTH = 2;
            
            var caseSetting = UPPER;
            
            function randomUpper() {
                return String.fromCharCode(65 + Math.round(Math.random() * 25));
            }
            
            function randomLower() {
                return String.fromCharCode(97 + Math.round(Math.random() * 25));
            }
            
            function randomLetter() {
                if(caseSetting == UPPER) {
                    return randomUpper();
                } else if( caseSetting == LOWER ) {
                    return randomLower();                
                } else {
                    if( Math.floor(10*Math.random()) % 2 == 0) {
                        return randomUpper();
                    } else {
                        return randomLower();
                    }
                }
            }
            
            function newLetter() {

                var letter = '';
                 while((letter = randomLetter()) == currentLetter) {
                     // pick until we have a different letter
                     ;
                }
                currentLetter = letter;
                
            }
            
            function next() {
                if(currentLetter)
                    previousLetters.push(currentLetter);
                    
                newLetter();                
                
                $('#letter').html(currentLetter);
            }
            
            function prev() {
                var l = previousLetters.pop();
                $('#letter').html(l);
            }
            
            function touchMove(event) {
                // Prevent scrolling on this element
                //event.preventDefault();
                // <!--ontouchmove="touchMove(event);"-->
            }
            
            function showSettings() {
                $('.main').hide();
                $('#settings').show();
            }
            
            function hideSettings() {
                // Save settings
                alert($('#lettertype').val());
                
                caseSetting = $('#lettertype').val();
                
                                
                $('#settings').hide();                
                $('.main').show();
            }
            
        
        </script>
    </head>
    
    <body> 

        <div id="info" onclick="javascript:showSettings();">
            <div style="background: url('img/white_rollie.png') no-repeat top left;">
                <img src="img/black_i.png" />
            </div>
        </div>

        <div class="main swipe">
            <div class="letter" id="letter"></div>
        </div>

<!--        
        <div class="controls swipe">
            <a href="javascript:prev();">Previous</a>&nbsp;&nbsp;<a href="javascript:next();">Next</a>
            Swipe here.
        </div>
-->        
        
        <div id="settings" style="display:none">
            <label for="lettertype">Letter Case:</label>
            <select id="lettertype" name="lettertype">
                <option value="0">Upper Case</option>
                <option value="1">Lower Case</option>
                <option value="2">Upper and Lower Case</option>
            </select>
            <br/>
            <button type="button" onclick="javascript:hideSettings()">Done</button>
        </div>
    </body>


</html>